{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashis\\\\Desktop\\\\Ecommerce\\\\Frontendd\\\\src\\\\admin\\\\UpdateCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport Base from '../core/Base';\nimport { Link } from 'react-router-dom';\nimport { isAuthenticated } from '../auth/helper';\nimport { updateCategory, getCategories } from './helper/adminapicall';\n\nconst UpdateCategory = ({\n  match\n}) => {\n  const [name, setName] = useState();\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n\n  const preLoad = categoryId => {\n    getCategories(categoryId).then(data => {\n      if (data.err) {\n        setName({ ...name,\n          error: data.err\n        });\n      } else {\n        setName({ ...name,\n          name: data.name,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    preLoad(match.params.categoryId);\n  }, []);\n\n  const handleChange = event => {\n    setError(\"\");\n    setName(event.target.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n    updateCategory(user._id, token, {\n      name\n    }).then(data => {\n      if (data.err) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n        setName(\"\");\n      }\n    });\n  }; //   const onSubmit = event => {\n  //     event.preventDefault();\n  //     setError(\"\");\n  //     setSuccess(false);\n  //     //backend request fired\n  //     createCategory(user._id, token, { name }).then(data => {\n  //       if (data.error) {\n  //         setError(true);\n  //       } else {\n  //         setError(\"\");\n  //         setSuccess(true);\n  //         setName(\"\");\n  //       }\n  //     });\n  // }    \n\n\n  const goBack = () => React.createElement(\"div\", {\n    className: \"mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"btn btn-sm btn-success mb-3\",\n    to: \"/admin/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Admin Home\"));\n\n  const successMessage = () => {\n    if (success) {\n      return React.createElement(\"h4\", {\n        className: \"text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Category Created Successfully\");\n    }\n  };\n\n  const warningMessage = () => {\n    if (error) {\n      return React.createElement(\"h4\", {\n        className: \"text-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Category Failed to Create\");\n    }\n  };\n\n  const myCategoryForm = () => React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"fom-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Enter the category \"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control my-2\",\n    autofocus: true,\n    required: true,\n    placeholder: \"Ex Summer t-shirts\",\n    onChange: handleChange,\n    value: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-outline-info mb-2 \",\n    onClick: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \" Update Category\")));\n\n  return React.createElement(Base, {\n    title: \"Add Category Here\",\n    description: \"Here You can add T-shirts category\",\n    className: \"container bg-info p-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row bg-white rounded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, successMessage(), warningMessage(), myCategoryForm(), goBack())));\n};\n\nexport default UpdateCategory;","map":{"version":3,"sources":["C:/Users/ashis/Desktop/Ecommerce/Frontendd/src/admin/UpdateCategory.js"],"names":["React","useState","useEffect","Base","Link","isAuthenticated","updateCategory","getCategories","UpdateCategory","match","name","setName","error","setError","success","setSuccess","user","token","preLoad","categoryId","then","data","err","formData","FormData","params","handleChange","event","target","value","onSubmit","preventDefault","_id","goBack","successMessage","warningMessage","myCategoryForm"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport Base from '../core/Base'\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated }  from '../auth/helper';\r\nimport {updateCategory,getCategories } from './helper/adminapicall'\r\n\r\n\r\nconst UpdateCategory = ({match}) => {\r\n   const [name,setName]= useState();\r\n   const[error,setError]= useState(false)\r\n   const[success,setSuccess]= useState(false);\r\n\r\n   const {user,token}= isAuthenticated();\r\n\r\n   const preLoad = categoryId =>{\r\n    getCategories(categoryId).then(data =>{\r\n        if(data.err){\r\n            setName({...name, error:data.err})\r\n        }else{\r\n            setName({...name, name:data.name, formData: new FormData()} )\r\n            \r\n        }\r\n    })\r\n}\r\n\r\nuseEffect(()=>{\r\n    preLoad(match.params.categoryId)\r\n}, [])\r\n\r\n   const handleChange = event =>{\r\n    \r\n         setError(\"\")\r\n         setName(event.target.value)\r\n    \r\n   };\r\n\r\n   const onSubmit = (event) =>{\r\n       event.preventDefault();\r\n       setError(\"\");\r\n       setSuccess(false);\r\n   \r\n    updateCategory(user._id, token, {name})\r\n      .then(data =>{\r\n          if(data.err){\r\n              setError(true)\r\n          }else{\r\n              setError(\"\")\r\n              setSuccess(true)\r\n              setName(\"\")\r\n          }\r\n      }) \r\n\r\n    }\r\n    //   const onSubmit = event => {\r\n    //     event.preventDefault();\r\n    //     setError(\"\");\r\n    //     setSuccess(false);\r\n    \r\n    //     //backend request fired\r\n    //     createCategory(user._id, token, { name }).then(data => {\r\n    //       if (data.error) {\r\n    //         setError(true);\r\n    //       } else {\r\n    //         setError(\"\");\r\n    //         setSuccess(true);\r\n    //         setName(\"\");\r\n    //       }\r\n    //     });\r\n    // }    \r\n  \r\n\r\n\r\n\r\n\r\n    const goBack=()=>(\r\n        <div className=\"mt-5\">\r\n            <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\" >Admin Home</Link>\r\n        </div>\r\n    )\r\n    const successMessage=()=>{\r\n              if(success){\r\n                  return(\r\n                      <h4 className=\"text-success\">Category Created Successfully</h4>\r\n                  )\r\n              }\r\n    }\r\nconst warningMessage=()=>{\r\n         if(error){\r\n             return(\r\n                <h4 className=\"text-success\">Category Failed to Create</h4>\r\n             )\r\n         }\r\n        \r\n    }\r\n   const myCategoryForm = () =>(\r\n   <form>\r\n       <div className=\"fom-group\">\r\n           <p className=\"lead\">Enter the category </p>\r\n           <input type=\"text\" className=\"form-control my-2\" \r\n           autofocus required \r\n           placeholder=\"Ex Summer t-shirts\"\r\n           onChange={handleChange}\r\n           value={name}\r\n            />\r\n           <button className=\"btn btn-outline-info mb-2 \"\r\n             onClick={ onSubmit} > Update Category</button>\r\n       </div>\r\n   </form>\r\n   )\r\n\r\n    return (\r\n        <Base \r\n        title=\"Add Category Here\" \r\n        description=\"Here You can add T-shirts category\"\r\n        className=\"container bg-info p-4\">\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {myCategoryForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default UpdateCategory;\r\n"]},"metadata":{},"sourceType":"module"}